(function(t){function e(e){for(var n,o,i=e[0],l=e[1],c=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"0a12":function(t,e,a){"use strict";a("34f4")},"0d2b":function(t,e,a){"use strict";a("ee3a")},"270b":function(t,e,a){},"32ea":function(t,e,a){},"34f4":function(t,e,a){},"3ece":function(t,e,a){"use strict";a("b98a")},"44ec":function(t,e,a){"use strict";a("32ea")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],o=(a("034f"),a("2877")),i={},l=Object(o["a"])(i,r,s,!1,null,null,null),c=l.exports,u=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[t._m(0),a("div",{staticClass:"right"},[a("div",{staticClass:"absolute-center light-shadow",attrs:{id:"form-container"}},[a("h1",{staticClass:"title text-centered"},[t._v("Logare")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.emailAddress,expression:"emailAddress"}],class:{dangerInput:t.credentialsError.email},attrs:{type:"text",placeholder:"adresa mail"},domProps:{value:t.emailAddress},on:{focus:t.clearEmail,input:function(e){e.target.composing||(t.emailAddress=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],class:{dangerInput:t.credentialsError.password},attrs:{type:"password",placeholder:"parola"},domProps:{value:t.password},on:{focus:t.clearPassword,input:function(e){e.target.composing||(t.password=e.target.value)}}}),t.credentialsError.password?a("p",{staticClass:"danger-p"},[t._v("Parola introdusa este gresita!")]):t._e(),t.credentialsError.email?a("p",{staticClass:"danger-p"},[t._v("Adresa de mail introdusa este gresita!")]):t._e(),a("button",{staticClass:"small-btn small-btn-centered",on:{click:t.login}},[t._v("logare")])]),a("p",{attrs:{id:"bottom-footer"}},[t._v("Built by MRVIT SRL 2020.")])])])},p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left"},[a("div",{staticClass:"overlay"})])}],m=(a("96cf"),a("1da1")),f=a("8bd8"),v={data:function(){return{emailAddress:"",password:"",isLoading:!1,credentialsError:{email:!1,password:!1}}},methods:{login:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$vs.loading({background:"#5b3cc4",color:"#fff"}),e.next=3,axios.post("".concat(f["default"].getApiUrl(),"/auth/login"),{email:t.emailAddress,password:t.password});case 3:n=e.sent,a.close(),n.data.success?(localStorage.setItem("firstName",n.data.adminInfo.firstName),localStorage.setItem("lastName",n.data.adminInfo.lastName),localStorage.setItem("tradeUnion",n.data.adminInfo.tradeUnion),localStorage.setItem("adminId",n.data.adminInfo.id),t.$router.push("/dashboard")):(n.data.incorrectUsername&&(t.credentialsError.email=!0),n.data.incorrectPassword&&(t.credentialsError.password=!0));case 6:case"end":return e.stop()}}),e)})))()},clearEmail:function(){this.credentialsError.email=!1},clearPassword:function(){this.credentialsError.password=!1}}},h=v,g=(a("9c74"),Object(o["a"])(h,d,p,!1,null,"e15edfd6",null)),b=g.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[a("side-navigation"),a("div",{staticClass:"content"},[a("navigation"),a("router-view")],1)],1)},w=[],_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("ul",{attrs:{id:"actions"}},[a("li",[a("unicon",{staticClass:"icon",attrs:{name:"signout"},on:{click:t.logout}})],1),a("li",[a("unicon",{staticClass:"icon",attrs:{name:"setting"}})],1)]),a("vs-avatar",{attrs:{dark:"",id:"avatar"},scopedSlots:t._u([{key:"text",fn:function(){return[t._v(" "+t._s(t.admin.firstName+" "+t.admin.lastName)+" ")]},proxy:!0}])})],1)},I=[],C=a("bc3a"),k=a.n(C),O={data:function(){return{admin:{firstName:localStorage.getItem("firstName"),lastName:localStorage.getItem("lastName")}}},methods:{logout:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(f["default"].getApiUrl(),"/auth/logout"));case 2:a=e.sent,200==a.status&&t.$router.push({name:"login"});case 4:case"end":return e.stop()}}),e)})))()}}},y=O,A=(a("8982"),Object(o["a"])(y,_,I,!1,null,"861ccdbc",null)),j=A.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"side-bar"}},[a("h1",{staticClass:"title text-centered"},[t._v("Sindicatul National Solidaritatea")]),a("ul",{attrs:{id:"side-nav-list"}},[a("router-link",{staticClass:"side-li",attrs:{tag:"li",to:{name:"dash-home"}}},[a("unicon",{staticClass:"icon",attrs:{name:"home-alt"}}),a("p",[t._v("Acasa")])],1),a("router-link",{staticClass:"side-li",attrs:{tag:"li",to:{name:"add-member"}}},[a("unicon",{staticClass:"icon",attrs:{name:"plus"}}),a("p",[t._v("Adauga Membru")])],1),a("router-link",{staticClass:"side-li",attrs:{tag:"li",to:{name:"dash-members"}}},[a("unicon",{staticClass:"icon",attrs:{name:"users-alt"}}),a("p",[t._v("Membrii Sindicat")])],1),a("router-link",{staticClass:"side-li",attrs:{tag:"li",to:{name:"dash-create-poll"}}},[a("unicon",{staticClass:"icon",attrs:{name:"thumbs-down"}}),a("p",[t._v("Creaza Poll")])],1),a("router-link",{staticClass:"side-li",attrs:{tag:"li",to:{name:"send-message"}}},[a("unicon",{staticClass:"icon",attrs:{name:"envelope-add"}}),a("p",[t._v("Trimite Mesaj")])],1),a("router-link",{staticClass:"side-li",attrs:{tag:"li",to:{name:"polls-list"}}},[a("unicon",{staticClass:"icon",attrs:{name:"archive-alt"}}),a("p",[t._v("Poll-uri")])],1)],1)])},P=[],R={},S=R,$=(a("44ec"),Object(o["a"])(S,N,P,!1,null,"d0e5aca6",null)),D=$.exports,E={components:{Navigation:j,"side-navigation":D}},M=E,U=(a("c952"),Object(o["a"])(M,x,w,!1,null,"b7744692",null)),F=U.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"container"}},[a("vs-table",{scopedSlots:t._u([{key:"thead",fn:function(){return[a("vs-tr",[a("vs-th",[a("vs-checkbox",{attrs:{indeterminate:t.selected.length==t.members.length},on:{change:function(e){t.selected=t.$vs.checkAll(t.selected,t.members)}},model:{value:t.allCheck,callback:function(e){t.allCheck=e},expression:"allCheck"}})],1),a("vs-th",[t._v(" Prenume ")]),a("vs-th",[t._v(" Nume ")]),a("vs-th",[t._v(" Email ")]),a("vs-th",[t._v(" DGRFP ")]),a("vs-th",[t._v(" CNP ")]),a("vs-th",[t._v(" Adresa ")]),a("vs-th")],1)]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.members,(function(e,n){return a("vs-tr",{key:n,attrs:{data:e,"is-selected":!!t.selected.includes(e)}},[a("vs-td",{attrs:{checkbox:""}},[a("vs-checkbox",{attrs:{val:e},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),a("vs-td",[t._v(" "+t._s(e.firstName)+" ")]),a("vs-td",[t._v(" "+t._s(e.lastName)+" ")]),a("vs-td",[t._v(" "+t._s(e.email)+" ")]),a("vs-td",[t._v(" "+t._s(e.DGRFP)+" ")]),a("vs-td",[t._v(" "+t._s(e.CNP)+" ")]),a("vs-td",[t._v(" "+t._s(e.address)+" ")]),a("vs-td",[a("button",{attrs:{id:"delete-btn"},on:{click:function(){t.deleteMember(e._id)}}},[t._v("stergeti")])])],1)}))},proxy:!0}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)},T=[],q=(a("99af"),{data:function(){return{allCheck:!1,selected:[],members:[{}]}},mounted:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getMembers();case 2:case"end":return e.stop()}}),e)})))()},methods:{getMembers:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$vs.loading({background:"#5b3cc4",color:"#fff"}),t.members=[],n=localStorage.adminId,e.next=5,axios.get("".concat(f["default"].getApiUrl(),"/members/").concat(n));case 5:for(r=e.sent,s=0;s<r.data.members.length;s++)t.members.push(r.data.members[s]);a.close();case 8:case"end":return e.stop()}}),e)})))()},deleteMember:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,axios.delete("".concat(f["default"].getApiUrl(),"/members/").concat(t));case 2:n=a.sent,n.data.success?e.$vs.notification({progress:"auto",color:"success",position:"top-right",title:"Membru Sters",text:"Membrul a fost sters cu success din baza de date!"}):e.$vs.notification({progress:"auto",color:"danger",position:"top-right",title:"Eroare",text:"Stergerea membrului a esuat. Incercati mai tarziu."}),e.getMembers();case 5:case"end":return a.stop()}}),a)})))()}}}),G=q,L=(a("da02"),Object(o["a"])(G,V,T,!1,null,"e5409fee",null)),z=L.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[a("div",{attrs:{id:"left"}},[a("h1",{staticClass:"title"},[t._v("Informatii Poll")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pollInfo.title,expression:"pollInfo.title"}],attrs:{type:"text",placeholder:"titlu"},domProps:{value:t.pollInfo.title},on:{input:function(e){e.target.composing||t.$set(t.pollInfo,"title",e.target.value)}}}),a("div",{attrs:{id:"checkbox-container"}},[a("vs-checkbox",{staticClass:"m-checkbox",on:{click:function(e){t.pollInfo.isGeneralQuestion=!1}},model:{value:t.pollInfo.yesOrNo,callback:function(e){t.$set(t.pollInfo,"yesOrNo",e)},expression:"pollInfo.yesOrNo"}},[t._v(" Da & Nu ")]),a("vs-checkbox",{staticClass:"m-checkbox",on:{click:function(e){t.pollInfo.yesOrNo=!1}},model:{value:t.pollInfo.isGeneralQuestion,callback:function(e){t.$set(t.pollInfo,"isGeneralQuestion",e)},expression:"pollInfo.isGeneralQuestion"}},[t._v(" Raspuns Multiplu ")])],1),t.pollInfo.yesOrNo?a("div",{attrs:{id:"yesOrNo"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.pollInfo.question,expression:"pollInfo.question"}],attrs:{type:"text",placeholder:"introduceti intrebarea"},domProps:{value:t.pollInfo.question},on:{input:function(e){e.target.composing||t.$set(t.pollInfo,"question",e.target.value)}}}),a("button",{staticClass:"m-btn small-btn",on:{click:t.createPoll}},[t._v("creati poll")])]):t._e(),t.pollInfo.isGeneralQuestion?a("div",{attrs:{id:"generalQuestion"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.pollInfo.question,expression:"pollInfo.question"}],attrs:{type:"text",placeholder:"introduceti intrebarea"},domProps:{value:t.pollInfo.question},on:{input:function(e){e.target.composing||t.$set(t.pollInfo,"question",e.target.value)}}}),a("div",{staticClass:"group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pollInfo.answerOption,expression:"pollInfo.answerOption"}],class:{dangerInput:t.wrongInputValues.answerOption},attrs:{type:"text",placeholder:"adauga varianta / candidat"},domProps:{value:t.pollInfo.answerOption},on:{input:function(e){e.target.composing||t.$set(t.pollInfo,"answerOption",e.target.value)}}})]),a("div",{staticClass:"group"},[a("button",{staticClass:"m-btn rounded-btn",on:{click:t.addAnswerOption}},[t._v(" Adauga ")])]),a("div",{staticClass:"clearfix"}),a("button",{staticClass:"m-btn small-btn",on:{click:t.createPoll}},[t._v("creati poll")])]):t._e()]),a("div",{attrs:{id:"right"}},[a("h1",{staticClass:"title"},[t._v("Vizionare Poll")]),a("div",{attrs:{id:"preview"}},[a("h1",{staticClass:"small-title"},[t._v(t._s(t.pollInfo.title))]),a("p",{staticClass:"question-p"},[t._v(t._s(t.pollInfo.question))]),t.pollInfo.isGeneralQuestion?a("div",{attrs:{id:"checkbox-preview-container"}},[t._l(t.multipleAnswersOptions,(function(e){return a("vs-checkbox",{key:e,staticClass:"m-checkbox"},[t._v(" "+t._s(e)+" ")])})),t.multipleAnswersOptions.length?a("button",{staticClass:"m-btn small-btn small-btn-centered",staticStyle:{float:"left"}},[t._v("voteaza")]):t._e()],2):t._e(),t.pollInfo.yesOrNo?a("div",{attrs:{id:"yesOrNoContainer"}},[a("button",{staticClass:"m-btn small-btn"},[t._v("DA")]),a("button",{staticClass:"m-btn small-btn"},[t._v("nu")])]):t._e()])])])},B=[],J=a("5530"),Y=(a("4d90"),function(){var t=new Date,e=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear();return t=+e+"/"+a+"/"+n,t}),W={currentDateFormat:Y},H={data:function(){return{pollInfo:{title:"",yesOrNo:!1,isGeneralQuestion:!1,question:"",answerOption:""},multipleAnswersOptions:[],wrongInputValues:{answerOption:!1,title:!1,generalQuestion:!1}}},methods:{addAnswerOption:function(){""!=this.pollInfo.answerOption?this.multipleAnswersOptions.push(this.pollInfo.answerOption):this.wrongInputValues.answerOption=!0,this.pollInfo.answerOption=""},clearInputs:function(){this.wrongInputValues.answerOption=!1,this.wrongInputValues.generalQuestion=!1,this.wrongInputValues.title=!1},clearFields:function(){this.pollInfo.title="",this.pollInfo.question="",this.multipleAnswersOptions=[],this.pollInfo.yesOrNo=!1,this.pollInfo.isGeneralQuestion=!1},createPoll:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.pollInfo.yesOrNo?{title:t.pollInfo.title,adminId:localStorage.getItem("adminId"),question:t.pollInfo.question,yesOrNoAnswers:[],options:[],optionAnswers:[],closed:!1,date:W.currentDateFormat()}:{title:t.pollInfo.title,question:t.pollInfo.question,adminId:localStorage.getItem("adminId"),yesOrNoAnswers:[],options:t.multipleAnswersOptions,optionAnswers:[],closed:!1,date:W.currentDateFormat()},a.adminId=localStorage.adminId,e.next=4,axios.post("".concat(environment.getApiUrl(),"/polls"),Object(J["a"])({},a));case 4:n=e.sent,n.data.success&&(t.$vs.notification({progress:"auto",color:"success",position:"top-right",title:"Poll Creat",text:"Poll-ul a fost creat cu succes!"}),t.clearFields());case 6:case"end":return e.stop()}}),e)})))()}}},K=H,X=(a("0d2b"),Object(o["a"])(K,Q,B,!1,null,"6f588f2e",null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"content"}},[a("div",{attrs:{id:"cards-container"}},[a("div",{staticClass:"card light-shadow"},[a("p",{staticClass:"count"},[a("span",[t._v(t._s(t.memberCount))]),t._v(" membrii")])]),a("div",{staticClass:"card light-shadow"},[a("p",{staticClass:"count"},[a("span",[t._v(t._s(t.pollCount))]),t._v(" polluri")])]),a("div",{staticClass:"clearfix"})]),a("div",{staticClass:"light-shadow",attrs:{id:"chart-container"}},[a("multiple-bar-chart")],1)])},et=[],at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("apexchart",{attrs:{type:"bar",options:t.options,series:t.series}})},nt=[],rt=(a("4160"),a("159b"),{data:function(){return{series:[{name:"DA",data:[0,0,0,0,0]},{name:"NU",data:[0,0,0,0,0]},{name:"Abtineri",data:[0,0,0,0,0]}],options:{colors:["var(--primary)","var(--danger)","#ffba00"],chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"25%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:[]},fill:{opacity:1}}}},mounted:function(){this.getPolls()},methods:{getPolls:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,n,r,s,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],n=[],r=localStorage.adminId,e.next=5,axios.get("".concat(f["default"].getApiUrl(),"/polls/").concat(r));case 5:for(s=e.sent,s.data.success&&s.data.polls.forEach((function(t){0==t.options.length&&a.push(t)})),o=0;o<a.length;o++)for(n.push(a[o].title),i=0;i<a[o].yesOrNoAnswers.length;i++)a[o].yesOrNoAnswers[i].vote>0?(console.log("vote is > 0"),t.series[0].data[o]++):(console.log("vote is < 0"),t.series[1].data[o]++);t.options=Object(J["a"])(Object(J["a"])({},t.options),{},{xaxis:{categories:[].concat(n)}});case 9:case"end":return e.stop()}}),e)})))()}}}),st=rt,ot=Object(o["a"])(st,at,nt,!1,null,"553ddc47",null),it=ot.exports,lt={components:{MultipleBarChart:it},data:function(){return{memberCount:0,pollCount:0}},mounted:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.geMebersCount();case 2:return e.next=4,t.getPollsCount();case 4:case"end":return e.stop()}}),e)})))()},methods:{geMebersCount:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=localStorage.adminId,e.next=3,axios.get("".concat(f["default"].getApiUrl(),"/members/count/").concat(a));case 3:n=e.sent,n.data.success&&(t.memberCount=n.data.count);case 5:case"end":return e.stop()}}),e)})))()},getPollsCount:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=localStorage.adminId,e.next=3,axios.get("".concat(f["default"].getApiUrl(),"/polls/count/").concat(a));case 3:n=e.sent,n.data.success&&(t.pollCount=n.data.count);case 5:case"end":return e.stop()}}),e)})))()}}},ct=lt,ut=(a("ca1c"),Object(o["a"])(ct,tt,et,!1,null,"134de34d",null)),dt=ut.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[t.codeEntered?a("div",[0==t.polls.length?a("div",{staticClass:"absolute-center"},[a("h1",{staticClass:"title text-centered"},[t._v("Nu Exista Poll-uri")]),a("p",{staticClass:"subtitle"},[t._v("Momentan, nu exista poll-uri active .")])]):a("div",[a("h1",{staticClass:"title text-centered"},[t._v("Lista Voturi")]),a("div",{attrs:{id:"container"}},t._l(t.polls,(function(e){return a("router-link",{key:e._id,staticClass:"poll-card-container",attrs:{tag:"div",to:"/polls/"+e._id}},[a("div",{staticClass:"poll-card light-shadow"},[a("h1",{staticClass:"title"},[t._v(t._s(e.title))]),a("p",{staticClass:"date"},[t._v(t._s(e.date))])])])})),1)])]):a("div",[a("div",{staticClass:"full-width-root"},[a("div",{staticClass:"absolute-center light-shadow",attrs:{id:"form-container"}},[a("h1",{staticClass:"title text-centered"},[t._v("Introduceti Codul")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],class:{dangerInput:t.credentialsError.password},attrs:{type:"text"},domProps:{value:t.code},on:{focus:function(e){t.credentialsError.password=!1},input:function(e){e.target.composing||(t.code=e.target.value)}}}),t.credentialsError.password?a("p",{staticClass:"danger-p"},[t._v("Condul introdus este gresit!")]):t._e(),a("button",{staticClass:"small-btn small-btn-centered",on:{click:t.checkCode}},[t._v("mai departe")])])]),a("p",{attrs:{id:"missing-code"}},[t._v("Daca nu ati primit un "),a("span",[t._v("cod")]),t._v(" pentru a accesa sesiunile de vot va rugam sa dati click "),a("router-link",{attrs:{tag:"a",to:""}},[t._v("aici")]),t._v(".")],1)])])},mt=[],ft={data:function(){return{polls:[],admins:[],selectedAdmin:!1,selectedAdminId:"",codeEntered:!1,code:"",memberInfo:null,credentialsError:{password:!1}}},mounted:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getAdmins();case 2:case"end":return e.stop()}}),e)})))()},methods:{getPollsByAdminId:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$vs.loading({background:"#5b3cc4",color:"#fff"}),e.next=3,axios.get("".concat(f["default"].getApiUrl(),"/polls/").concat(t.selectedAdminId));case 3:n=e.sent,n.data.success&&(t.polls=n.data.polls,t.selectedAdmin=!0),a.close();case 6:case"end":return e.stop()}}),e)})))()},getAdmins:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$vs.loading({background:"#5b3cc4",color:"#fff"}),e.next=3,axios.get("".concat(f["default"].getApiUrl(),"/auth/admins/"));case 3:n=e.sent,n.data.success&&(t.admins=n.data.admins),a.close();case 6:case"end":return e.stop()}}),e)})))()},checkCode:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$vs.loading({background:"#5b3cc4",color:"#fff"}),e.next=3,axios.get("".concat(f["default"].getApiUrl(),"/members/code/").concat(t.code));case 3:n=e.sent,a.close(),n.data.success?(t.codeEntered=!0,localStorage.setItem("memberEmail",n.data.member.email),t.selectedAdminId=n.data.member.adminId):t.credentialsError.password=!0;case 6:case"end":return e.stop()}}),e)})))()}}},vt=ft,ht=(a("5738"),Object(o["a"])(vt,pt,mt,!1,null,"2774083c",null)),gt=ht.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[a("h1",{staticClass:"title text-centered small"},[t._v("Bine ati venit!")]),a("h1",{staticClass:"title text-centered"},[t._v(t._s(t.pollData.title))]),a("div",{attrs:{id:"content"}},[a("p",{staticClass:"text-centered"},[t._v(t._s(t.pollData.question))]),t.pollData.options.length?a("div",{attrs:{id:"checkbox-container"}},[t._l(t.pollData.options,(function(e,n){return a("vs-checkbox",{key:e,staticClass:"m-checkbox",on:{click:function(){t.chooseOption(n)}}},[t._v(t._s(e))])})),a("div",{staticClass:"clearfix"}),a("button",{staticClass:"m-btn small-btn small-btn-centerd",on:{click:t.placeOption}},[t._v("voteaza")])],2):a("div",[a("button",{staticClass:"m-btn small-btn",on:{click:function(){t.placeVote(1)}}},[t._v("DA")]),a("button",{staticClass:"m-btn small-btn",on:{click:function(){t.placeVote(-1)}}},[t._v("NU")])]),a("span",{staticClass:"clearfix"})])])},xt=[],wt={data:function(){return{pollData:{options:[]},memberData:{},optionAnswer:-1}},mounted:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getPollData();case 2:return e.next=4,t.getMemberData();case 4:t.checkForVote();case 5:case"end":return e.stop()}}),e)})))()},methods:{checkForVote:function(){var t=!0;if(this.pollData.options.length)for(var e=0;e<this.pollData.optionAnswers.length;e++)this.pollData.optionAnswers[e].memberId==this.$route.params.memberId&&(t=!1);else for(var a=0;a<this.pollData.yesOrNoAnswers.length;a++)this.pollData.yesOrNoAnswers[a].memberId==this.$route.params.memberId&&(t=!1);t||this.$router.push({name:"vote-error"})},getPollData:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.params.pollId,e.next=3,axios.get("".concat(f["default"].getApiUrl(),"/polls/poll/").concat(a));case 3:n=e.sent,n.data.success?t.pollData=n.data.poll:alert("pollul la care incercati sa participati nu exista sau a fost inchis.");case 5:case"end":return e.stop()}}),e)})))()},getMemberData:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$vs.loading({background:"#5b3cc4",color:"#fff"}),n=t.$route.params.memberId,e.next=4,axios.get("".concat(f["default"].getApiUrl(),"/members/member/").concat(n));case 4:r=e.sent,r.data.success?t.memberData=r.data.member:alert("Votul dumneavoastra a fost inregistrat deja."),a.close();case 7:case"end":return e.stop()}}),e)})))()},placeVote:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.$route.params.pollId,r=e.$route.params.memberId,e.pollData.options.length){a.next=7;break}return a.next=5,axios.post("".concat(f["default"].getApiUrl(),"/polls/vote/").concat(n,"/yesorno"),{memberId:r,vote:t});case 5:s=a.sent,s.data.success?e.$router.push({name:"vote-placed"}):alert("Something went wrong");case 7:case"end":return a.stop()}}),a)})))()},chooseOption:function(t){this.optionAnswer=t},placeOption:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.params.pollId,n=t.$route.params.memberId,r=t.optionAnswer,e.next=5,axios.post("".concat(f["default"].getApiUrl(),"/polls/vote/").concat(a,"/multiple"),{memberId:n,vote:r});case 5:e.sent;case 6:case"end":return e.stop()}}),e)})))()}}},_t=wt,It=(a("0a12"),Object(o["a"])(_t,bt,xt,!1,null,"4ae12134",null)),Ct=It.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[a("div",{attrs:{id:"center"}},[a("h1",{staticClass:"title text-centered"},[t._v(" Multumim pentru votul dumneavoastra! ")]),a("p",{staticClass:"text-centered"},[t._v("In cazul intampinarilor unor probleme tehnice va rugam sa ne contactati la support-vot@mrv-it.com")]),a("p",{staticClass:"text-centered"},[a("router-link",{staticStyle:{"text-align":"center"},attrs:{tag:"a",to:"/"}},[t._v("Mergeti la Lsta Poll-urilor")])],1)])])},Ot=[],yt={},At=yt,jt=(a("3ece"),Object(o["a"])(At,kt,Ot,!1,null,"5ab4bac6",null)),Nt=jt.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[a("div",{attrs:{id:"center"}},[a("h1",{staticClass:"title text-centered"},[t._v(" Votul dumneavoastra a fost deja depus! ")]),a("p",{staticClass:"text-centered"},[t._v("In cazul intampinarilor unor probleme tehnice va rugam sa ne contactati la support-vot@mrv-it.com")]),a("p",{staticClass:"text-centered"},[a("router-link",{staticStyle:{"text-align":"center"},attrs:{tag:"a",to:"/"}},[t._v("Mergeti la Lsta Voturilor")])],1)])])},Rt=[],St={},$t=St,Dt=(a("b34f"),Object(o["a"])($t,Pt,Rt,!1,null,"ed899f8a",null)),Et=Dt.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[a("div",{attrs:{id:"center"}},[a("h1",{staticClass:"title text-centered"},[t._v(" Poll-ul a fost inchis! ")]),a("p",{staticClass:"text-centered"},[t._v("Daca citit acest mesaj inseamna ca poll-ul la care incercati sa participati a expirat sau a fost inchis de catre administrator. Multumim!")]),a("p",{staticClass:"text-centered"},[a("router-link",{staticStyle:{"text-align":"center"},attrs:{tag:"a",to:"/"}},[t._v("Mergeti la Lsta Poll-urilor")])],1)])])},Ut=[],Ft={},Vt=Ft,Tt=(a("f057"),Object(o["a"])(Vt,Mt,Ut,!1,null,"ee4104f2",null)),qt=Tt.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"content"}},[a("vs-table",{attrs:{striped:""},scopedSlots:t._u([{key:"thead",fn:function(){return[a("vs-tr",[a("vs-th",[t._v(" Titlu ")]),a("vs-th",[t._v(" Data ")]),a("vs-th",[t._v(" Status ")])],1)]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.polls,(function(e,n){return a("vs-tr",{key:n,attrs:{data:e},scopedSlots:t._u([{key:"expand",fn:function(){return[e.options.length>0?a("bar-chart",{attrs:{pollData:e}}):a("donut-chart",{attrs:{pollData:e}}),a("button",{staticClass:"m-btn rounded-btn",attrs:{id:"delete"},on:{click:function(){t.closePoll(e._id)}}},[t._v("inchide")])]},proxy:!0}],null,!0)},[a("vs-td",[t._v(" "+t._s(e.title)+" ")]),a("vs-td",[t._v(" "+t._s(e.date)+" ")]),a("vs-td",[e.closed?a("p",{staticClass:"danger-color"},[t._v("Inchisa")]):a("p",{staticClass:"success-color"},[t._v("Deschis")])])],1)}))},proxy:!0}])})],1)},Lt=[],zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("apexchart",{attrs:{width:"380",type:"donut",options:t.options,series:t.series}})},Qt=[],Bt={props:["pollData"],data:function(){return{totlaVotes:0,options:{colors:["var(--primary)","var(--danger)"],plotOptions:{pie:{donut:{labels:{show:!0,total:{showAlways:!0,show:!0}}}}},labels:["DA","NU"]},series:[]}},mounted:function(){this.getSeries()},methods:{getSeries:function(){for(var t=0,e=0,a=this.pollData.yesOrNoAnswers,n=0;n<a.length;n++)a[n].vote<0?e++:t++;this.series.push(t),this.series.push(e)}}},Jt=Bt,Yt=Object(o["a"])(Jt,zt,Qt,!1,null,null,null),Wt=Yt.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("apexchart",{attrs:{width:"500",type:"bar",options:t.options,series:t.series}})},Kt=[],Xt={props:["pollData"],data:function(){return{series:[],options:{colors:["var(--primary)"],chart:{height:350,type:"bar"},plotOptions:{bar:{dataLabels:{position:"bottom"}}},dataLabels:{enabled:!0,formatter:function(t){return t+" voturi"},offsetY:20,style:{fontSize:"12px",colors:["white"]}},xaxis:{categories:[]},yaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1,formatter:function(t){return 100*t/1+"%"}}}}}},mounted:function(){this.updateOptions(),this.getSeries()},methods:{updateOptions:function(){for(var t=this.pollData.options,e=[],a=0;a<t.length;a++)e.push(t[a]);var n=this;this.options=Object(J["a"])(Object(J["a"])({},this.options),{xaxis:{categories:[].concat(e)},yaxis:{labels:{show:!1,formatter:function(t){return 100*t/n.pollData.optionAnswers.length+"%"}}}})},getSeries:function(){for(var t=this.options.xaxis.categories.length,e=[],a=this.pollData.optionAnswers,n=0;n<t;n++)e.push(0);for(var r=0;r<a.length;r++)e[a[r].voteOption]++;this.series.push({name:"Voturi",data:e})}}},Zt=Xt,te=Object(o["a"])(Zt,Ht,Kt,!1,null,"31743e91",null),ee=te.exports,ae={components:{DonutChart:Wt,BarChart:ee},data:function(){return{allCheck:!1,polls:[{options:[]}]}},mounted:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getPolls();case 2:case"end":return e.stop()}}),e)})))()},methods:{closePoll:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,axios.post("".concat(f["default"].getApiUrl(),"/polls/update/").concat(t));case 2:n=a.sent,n.data.success&&e.$vs.notification({progress:"auto",color:"success",position:"top-right",title:"Poll Inchis",text:"Poll-ul a fost inchis cu succes!"}),e.getPolls();case 5:case"end":return a.stop()}}),a)})))()},getPolls:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$vs.loading({background:"#5b3cc4",color:"#fff"}),n=localStorage.adminId,e.next=4,axios.get("".concat(f["default"].getApiUrl(),"/polls/").concat(n));case 4:if(r=e.sent,t.polls=[],r.data.success)for(s=0;s<r.data.polls.length;s++)t.polls.push(r.data.polls[s]);a.close();case 8:case"end":return e.stop()}}),e)})))()}}},ne=ae,re=(a("6f25"),Object(o["a"])(ne,Gt,Lt,!1,null,"1376fdca",null)),se=re.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"centered"}},[a("h1",{staticClass:"title"},[t._v("Adaugati Membru")]),a("form",{attrs:{action:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.memberInfo.firstName,expression:"memberInfo.firstName"}],attrs:{type:"text",placeholder:"prenume"},domProps:{value:t.memberInfo.firstName},on:{input:function(e){e.target.composing||t.$set(t.memberInfo,"firstName",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.memberInfo.lastName,expression:"memberInfo.lastName"}],attrs:{type:"text",placeholder:"nume"},domProps:{value:t.memberInfo.lastName},on:{input:function(e){e.target.composing||t.$set(t.memberInfo,"lastName",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.memberInfo.CNP,expression:"memberInfo.CNP"}],attrs:{type:"text",placeholder:"CNP"},domProps:{value:t.memberInfo.CNP},on:{input:function(e){e.target.composing||t.$set(t.memberInfo,"CNP",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.memberInfo.address,expression:"memberInfo.address"}],attrs:{type:"text",placeholder:"adresa"},domProps:{value:t.memberInfo.address},on:{input:function(e){e.target.composing||t.$set(t.memberInfo,"address",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.memberInfo.email,expression:"memberInfo.email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:t.memberInfo.email},on:{input:function(e){e.target.composing||t.$set(t.memberInfo,"email",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.memberInfo.DGRFP,expression:"memberInfo.DGRFP"}],attrs:{type:"text",placeholder:"DGRFP"},domProps:{value:t.memberInfo.DGRFP},on:{input:function(e){e.target.composing||t.$set(t.memberInfo,"DGRFP",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.memberInfo.joinedIn,expression:"memberInfo.joinedIn"}],attrs:{type:"text",placeholder:"data adeziunii"},domProps:{value:t.memberInfo.joinedIn},on:{input:function(e){e.target.composing||t.$set(t.memberInfo,"joinedIn",e.target.value)}}}),a("button",{staticClass:"m-btn small-btn",attrs:{type:"submit"},on:{click:function(e){t.addMember(e)}}},[t._v("adauga membru")])])])},ie=[],le=function(t,e,a){a.notification({progress:"auto",color:"success",position:"top-right",title:t,text:e})},ce=function(t,e,a){a.notification({progress:"auto",color:"danger",position:"top-right",title:t,text:e})},ue={notifyFail:ce,notifySuccess:le},de={data:function(){return{memberInfo:{firstName:"",lastName:"",CNP:"",adress:"",email:"",DGRFP:"",joinedIn:"",adminId:""}}},methods:{clearInputs:function(){this.memberInfo={firstName:"",lastName:"",CNP:"",adress:"",email:"",DGRFP:"",joinedIn:""}},addMember:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.preventDefault(),e.memberInfo.adminId=localStorage.adminId,a.next=4,axios.post("".concat(f["default"].getApiUrl(),"/members"),Object(J["a"])({},e.memberInfo));case 4:n=a.sent,n.data.success?(ue.notifySuccess("Membru adaugat!","Membrul a fost adaugat cu succes in baza de date!",e.$vs),e.addMemberToMailingList(n.data.member)):ue.notifyFail("Eroare","Verificat daca membrun nu exista deja in baza de date!",e.$vs),e.clearInputs();case 7:case"end":return a.stop()}}),a)})))()},addMemberToMailingList:function(t){return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios.post("".concat(f["default"].getApiUrl(),"/mailgun/add_member/members"),{member:Object(J["a"])({},t),tradeUnion:localStorage.tradeUnion.toLowerCase()});case 2:a=e.sent,a.data.success||ue.notifyFail("Posibila problema!","Membrul adaugat nu a fost adaugat in mailing list!");case 4:case"end":return e.stop()}}),e)})))()}}},pe=de,me=(a("a0d6"),Object(o["a"])(pe,oe,ie,!1,null,"1b2511b1",null)),fe=me.exports,ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"container"}},[a("h1",{staticClass:"title"},[t._v("Trimiteti mesaj")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{type:"text",placeholder:"introduceti mesajul",id:"message"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),a("div",{staticClass:"clearfix"}),a("button",{staticClass:"m-btn small-btn",on:{click:t.sendMessage}},[t._v("TRIMITE")]),a("button",{staticClass:"m-btn small-btn",attrs:{id:"send-code-btn"},on:{click:t.sendAccessCode}},[t._v("TRIMITETI CODUL DE ACCES")])])])},he=[],ge={data:function(){return{message:""}},methods:{sendMessage:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:axios.post("".concat(f["default"].getApiUrl(),"/mailgun/send_mail"),{tradeUnion:localStorage.tradeUnion,message:t.message}),t.$vs.notification({progress:"auto",color:"success",position:"top-right",title:"Mesaj Trimis",text:"Mesajul a fost trimist cu succes!"}),t.message="";case 3:case"end":return e.stop()}}),e)})))()},sendAccessCode:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:axios.post("".concat(f["default"].getApiUrl(),"/mailgun/send_code"),{tradeUnion:localStorage.tradeUnion}),t.$vs.notification({progress:"auto",color:"success",position:"top-right",title:"Coduri Trimise",text:"Codurile de acces au fost trimise cu succes!"});case 2:case"end":return e.stop()}}),e)})))()}}},be=ge,xe=(a("8411"),Object(o["a"])(be,ve,he,!1,null,"f73edb86",null)),we=xe.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[a("h1",{staticClass:"title text-centered small"},[t._v("Bine ati venit!")]),a("h1",{staticClass:"title text-centered"},[t._v(t._s(t.pollData.title))]),a("div",{attrs:{id:"content"}},[a("p",{staticClass:"text-centered"},[t._v(t._s(t.pollData.question))]),t.pollData.options.length?a("div",{attrs:{id:"checkbox-container"}},[t._l(t.pollData.options,(function(e,n){return a("vs-checkbox",{key:e,staticClass:"m-checkbox",on:{click:function(){t.chooseOption(n)}}},[t._v(t._s(e))])})),a("div",{staticClass:"clearfix"}),a("button",{staticClass:"m-btn small-btn small-btn-centerd",on:{click:t.placeOption}},[t._v(" voteaza ")])],2):a("div",[a("button",{staticClass:"m-btn small-btn",on:{click:function(){t.placeVote(1)}}},[t._v(" DA ")]),a("button",{staticClass:"m-btn small-btn",on:{click:function(){t.placeVote(-1)}}},[t._v(" NU ")])]),a("span",{staticClass:"clearfix"})])])},Ie=[],Ce=(a("8bd8"),{data:function(){return{pollData:{options:[]},memberData:{},optionAnswer:-1}},mounted:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getPollData();case 2:t.checkForFirsTime(),t.checkForVote(),t.checkIfStillOpen();case 5:case"end":return e.stop()}}),e)})))()},methods:{checkForFirsTime:function(){if(void 0==localStorage.getItem("votes")){var t=[];localStorage.setItem("votes",JSON.stringify(t))}},checkForVote:function(){var t=this;0==this.pollData.options.length?this.pollData.yesOrNoAnswers.forEach((function(e){if(e.email==localStorage.getItem("memberEmail"))return t.$router.push({name:"already-voted"})})):this.pollData.optionAnswers.forEach((function(e){if(e.email==localStorage.getItem("memberEmail"))return t.$router.push({name:"already-voted"})}))},checkIfStillOpen:function(){this.pollData.closed&&this.$router.push({name:"poll-closed"})},getPollData:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.params.id,e.next=3,axios.get("".concat(f["default"].getApiUrl(),"/polls/poll/").concat(a));case 3:n=e.sent,n.data.success?t.pollData=n.data.poll:alert("Sesiunea de vot la care incercati sa participati nu exista sau a fost inchis.");case 5:case"end":return e.stop()}}),e)})))()},placeVote:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=JSON.parse(localStorage.getItem("votes")),n.push(e.$route.params.id),localStorage.setItem("votes",JSON.stringify(n)),r=e.$route.params.id,e.pollData.options.length){a.next=9;break}return a.next=7,axios.post("".concat(f["default"].getApiUrl(),"/polls/vote/").concat(r,"/yesorno"),{vote:t,email:localStorage.getItem("memberEmail")});case 7:s=a.sent,s.data.success?e.$router.push({name:"vote-placed"}):alert("Something went wrong");case 9:case"end":return a.stop()}}),a)})))()},chooseOption:function(t){this.optionAnswer=t},placeOption:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=JSON.parse(localStorage.getItem("votes")),a.push(t.$route.params.id),localStorage.setItem("votes",JSON.stringify(a)),n=t.$route.params.id,r=t.optionAnswer,e.next=7,axios.post("".concat(f["default"].getApiUrl(),"/polls/vote/").concat(n,"/multiple"),{vote:r,email:localStorage.getItem("memberEmail")});case 7:s=e.sent,s.data.success?t.$router.push({name:"vote-placed"}):alert("Something went wrong");case 9:case"end":return e.stop()}}),e)})))()}}}),ke=Ce,Oe=(a("c4a2"),Object(o["a"])(ke,_e,Ie,!1,null,"553b855a",null)),ye=Oe.exports;n["default"].use(u["a"]);var Ae=function(t,e,a){Ne.push("polls-list-user"),a()},je=[{path:"/login",name:"login",component:b},{path:"/",name:"polls-list-user",component:gt},{path:"/polls/:id",name:"polls-view",component:ye},{path:"/vote/:pollId/:memberId",name:"vote",component:Ct},{path:"/vote/finish",name:"vote-placed",component:Nt,beforeLeave:Ae},{path:"/vote/already-voted",name:"already-voted",component:Et,beforeLeave:Ae},{path:"/poll-closed",name:"poll-closed",component:qt},{path:"/dashboard",component:F,children:[{path:"",name:"dash-home",component:dt},{path:"members",name:"dash-members",component:z},{path:"add_member",name:"add-member",component:fe},{path:"create_poll",name:"dash-create-poll",component:Z},{path:"polls",name:"polls-list",component:se},{path:"send_message",name:"send-message",component:we}]}],Ne=new u["a"]({mode:"history",base:"/",routes:je}),Pe=Ne,Re=a("2f62");n["default"].use(Re["a"]);var Se=new Re["a"].Store({state:{},mutations:{},actions:{},modules:{}});a("e443"),a("94ac"),a("9416"),a("9148"),a("ed18").config(),n["default"].config.productionTip=!1,new n["default"]({router:Pe,store:Se,render:function(t){return t(c)}}).$mount("#app")},5738:function(t,e,a){"use strict";a("a944")},"6f25":function(t,e,a){"use strict";a("e540")},"75a6":function(t,e,a){},"822b":function(t,e,a){},8403:function(t,e,a){},8411:function(t,e,a){"use strict";a("a7a7")},"85ec":function(t,e,a){},8982:function(t,e,a){"use strict";a("d938")},"8bd8":function(t,e,a){"use strict";a.r(e);var n=function(){var t,e="production";return t="development"==e?"http://localhost:8081":"http://www.aplicatievot.com",t};e["default"]={getApiUrl:n}},9148:function(t,e,a){"use strict";a.r(e);var n=a("1321"),r=a.n(n),s=a("2b0e");s["default"].use(r.a),s["default"].component("apexchart",r.a)},9416:function(t,e,a){"use strict";a.r(e);var n=a("2b0e"),r=a("574d"),s=a.n(r);a("04f2"),a("a2d9");n["default"].use(s.a,{colors:{primary:"#6610f2",dark:"#222b45"}})},"94ac":function(t,e,a){"use strict";a.r(e);var n=a("2b0e"),r=a("a2e0"),s=a.n(r),o=a("cf18");s.a.add([o["g"],o["f"],o["d"],o["h"],o["i"],o["b"],o["a"],o["e"],o["c"]]),n["default"].use(s.a,{height:25,width:25})},"9b46":function(t,e,a){},"9c74":function(t,e,a){"use strict";a("75a6")},a0d6:function(t,e,a){"use strict";a("270b")},a2d9:function(t,e,a){},a7a7:function(t,e,a){},a944:function(t,e,a){},b24e:function(t,e,a){},b34f:function(t,e,a){"use strict";a("f4be")},b98a:function(t,e,a){},c4a2:function(t,e,a){"use strict";a("9b46")},c952:function(t,e,a){"use strict";a("b24e")},ca1c:function(t,e,a){"use strict";a("8403")},d938:function(t,e,a){},da02:function(t,e,a){"use strict";a("ec90")},e443:function(t,e,a){"use strict";a.r(e);a("d3b7");var n=a("bc3a"),r=a.n(n);window.axios=a("bc3a"),r.a.defaults.withCredentials=!0,r.a.interceptors.response.use((function(t){return t}),(function(t){if(401==t.response.status)return window.location="/login",Promise.resolve("User is not authorized")}))},e540:function(t,e,a){},ec90:function(t,e,a){},ee3a:function(t,e,a){},f057:function(t,e,a){"use strict";a("822b")},f4be:function(t,e,a){}});
//# sourceMappingURL=app.d9f7e163.js.map